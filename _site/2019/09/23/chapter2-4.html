<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Chapter2 4</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
<nav>
    
    <a href="/" >
        Home
    </a>
    
    <a href="/about.html" >
        About
    </a>
    
    <a href="/blog.html" >
        Blog
    </a>
    
</nav>
<h1>Chapter2 4</h1>
<p>23 Sep 2019 - hiramayo</p>

<h2>問題</h2>
<p>あるオブジェクトのプロパティを全て表示したい（ただし、プロトタイプのプロパティは除外）。どうすれば良いか？</p>

<h2>解答</h2>
<p>for-inループとメソッド「hasOwnProperty()」を使用すれば良い。</p>

<h2>サンプル</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//for-inループ</span>
<span class="kd">function</span> <span class="nx">forin</span><span class="p">(){</span>
    <span class="c1">//オブジェクト</span>
    <span class="kd">var</span> <span class="nx">man</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hiramayo</span><span class="dl">"</span><span class="p">,</span>
            <span class="na">age</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span>
            <span class="na">address</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Tokyo</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">),</span>
        <span class="nx">str</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
    <span class="c1">//プロトタイプにプロパティを追加</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">newprop</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">newProp</span><span class="dl">"</span><span class="p">;</span>
    <span class="c1">//プロパティを表示</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">man</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">man</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">prop</span><span class="p">)){</span>
            <span class="nx">str</span> <span class="o">+=</span> <span class="nx">prop</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">:</span><span class="dl">"</span> <span class="o">+</span>  <span class="nx">man</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">+</span> <span class="dl">"</span><span class="se">\n</span><span class="dl">"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">result</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">str</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>
<p><button onclick="forin()">showproperty</button>
<br />
プロパティ</p>
<p id="result"></p>
<script>
    //for-inループ
function forin(){
    //オブジェクト
    var man = {
            name: "hiramayo",
            age: 33,
            address: "Tokyo"
        },
        result = document.getElementById("result"),
        str = "";
    //プロトタイプにプロパティを追加
    Object.prototype.newprop = "newProp";
    //プロパティを表示
    for(var prop in man){
        if(man.hasOwnProperty(prop)){
            str += prop + ":" +  man[prop] + "\n";
        }
    }
    result.innerText = str;
}

</script>




</body>
</html>